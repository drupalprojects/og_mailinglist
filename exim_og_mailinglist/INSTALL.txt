These files are for integrating OG Mailinglist with the EXIM MTA.

# Installation Instructions (Only tested on Debian/Ubuntu systems, documentation for other systems is welcome).
1. Copy this entire folder to /etc/exim4/
2. Copy router_950_exim4-config_drupal_mailnode to /etc/exim4/conf.d/router/950_exim4-config_drupal_mailnode
3. Copy transport_95_exim4-config_drupal_mailnode to /etc/exim4/conf.d/transport/95_exim4-config_drupal_mailnode
4. Create a file in this directory called site_aliases.php. Model it after the code below. In it, add the mapping from your site's domain name to its Drush alias. Site Aliases are a new feature in Drush 3.0. See the example.aliases.drushrc.php file in your drush folder for more information on how to setup site aliases on your server.
5. Restart exim by running "/etc/init.d/exim4 restart". Note that on some operating systems like Debian, you need to run "update-exim4.conf" to actually update the configuration before restarting.  See your installation's Exim documentation for specifics.
6. Test setup by sending email to agroupname@yoursite.com


sites_alias.php:
<?php

// Note: You must include your system mail name as one of the names. This is how og_mailinglist knows to reject emails sent out from the server. If you don't include a system mail name, og_mailinglist will create recursively create 100s of comments until you shut down the mail server (yes, I've done this).
// Also, each site has to be listed as a domain within Exim for which it will receive email. Exim blocks emails by default not sent to an approved domain.

/*
 * @return array of sites w/ equivalent drush site aliases.
 */
function og_mailinglist_site_aliases() {
  return array (
    'example.com' => '@example.com',
    'community.example.com' => '@community.example.com',
  );
}